<div class="container">

  <div class="single-question-container">
    <!-- BEGIN VOTE ON QUESTIONS SECTION -->
    <div class="question-votes-container">
      <form class="q-vote-form" action="/votes" method="POST">
        <input type="hidden" value="<%= @question.id %>" name="question_id" />
        <input type="hidden" value="1" name="shaka" />
        <input type="hidden" value="Question" name="voteable_type" />
        <input class="vote-sub sick-button upvote" type="submit" value="Upvote!" />
        <i class="em em-metal"></i>
        <!-- button -->
      </form>

      <p class="count"><%= @question.votes.reduce(0) {|sum, vote| sum += vote.shaka } %></p>

      <form class="q-vote-form" action="/votes" method="POST">
        <input type="hidden" value="<%= @question.id %>" name="question_id" />
        <input type="hidden" value="-1" name="shaka" />
        <input type="hidden" value="Question" name="voteable_type" />
        <input class="vote-sub sick-button downvote" type="submit" value="Downvote!" />
        <!-- button -->
        <i class="em em-poop"></i>
      </form>
    </div>

    <div class="single-for-flex">
      <h2> <%= @question.title %> </h2>
      <p><%= @question.description %></p>
      <p class="question-user">- <%= @question.user.username %></p>
    </div>
  </div>
  <!-- END VOTE ON QUESTIONS SECTION -->

  <div class="line"></div>

  <div id="comments">
    <h2 class="scramblin">Comments</h2>
      <ul>
        <% @comments.each do |comment| %>
        <li>
          <%= comment.response %>
        </li>
        <% end %>
      </ul>
    <% if session[:user_id] %>
      <form id="new-comment" action="/comments" method="post">
        <label>Comment:</label>
        <input id="comment-text-area" class="textareas-show" type="textarea" name="comment" />
        <input type="hidden" name="question_id" value=" <%= @question.id %>" />
        <input class="sick-button submit-comment" type="submit" value="Post Comment" />
        <!-- button -->
      </form><!-- end new comment form -->
      <% end %>
  </div>

  <div id="answer-party">
  <h2 class="scramblin">Answers</h2>
  <% @answers.each do |answer| %>

  <div class="single-answer-container">
  <div class="answer-votes-container">
    <form class="a-vote-form" action="/votes" method="POST">
      <input type="hidden" value="<%= answer.id %>" name="answer_id" />
      <input type="hidden" value="<%= @question.id %>" name="question_id" />
      <input type="hidden" value="1" name="shaka" />
      <input type="hidden" value="Answer" name="voteable_type" />
      <input class="sick-button upvote" type="submit" value="Upvote!" />
      <i class="em em-metal"></i>
      <!-- button -->
    </form>

    <p><%= answer.votes.reduce(0) {|sum, vote| sum += vote.shaka } %></p>

    <form class="a-vote-form" action="/votes" method="POST">
      <input type="hidden" value="<%= answer.id %>" name="answer_id" />
      <input type="hidden" value="<%= @question.id %>" name="question_id" />
      <input type="hidden" value="-1" name="shaka" />
      <input type="hidden" value="Answer" name="voteable_type" />
      <input class="sick-button downvote" type="submit" value="Downvote!" />
      <i class="em em-poop"></i>
      <!-- button -->
    </form>
  </div>

   <div class="single-answer-for-flex">
    <p><%=  answer.description %> - <span class="answer-user"><%= answer.user.username %></span></p>
    <% if !answer.comments.empty? %>
      <p>Comments:</p>
      <ul>
        <% answer.comments.each do |comment| %>
          <li class="answer-comment"><%= comment.response %></li>
        <% end %>
      </ul>
    <% end %>
  </div>
</div>
    <!-- END SINGLE ANSWER CONTAINER -->

    <form action="/comments/new" method="get">
      <input type="hidden" name="answer_id" value="<%= answer.id %>">
      <input class="sick-button submit-comment" type="submit" value="Comment">
      <!-- button -->
    </form>
      <% end %>
</div>
      <!-- the input below should really be a text area - can we change without breaking? -->
      <% if session[:user_id] %>
        <div id="reply">
          <form id="answer-form" action="/answers" method="post">
            <p>Answer This Question</p>
            <input id="answer-text-area" class="textareas-show" type="textarea" name="answer" />
            <input type="hidden" name="question_id" value="<%= @question.id %>" />
            <input class="sick-button submit-comment" type="submit" name="submit" value="Post" />
            <!-- button -->
          </form>
        </div>
      <% end %>
